<brls:Box
    width="auto"
    height="auto"
    grow="1.0">

    <brls:ScrollingFrame
        width="auto"
        height="auto"
        grow="1.0">

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            paddingTop="@style/brls/tab_frame/content_padding_top_bottom"
            paddingBottom="@style/brls/tab_frame/content_padding_top_bottom"
            paddingLeft="@style/brls/tab_frame/content_padding_sides"
            paddingRight="@style/brls/tab_frame/content_padding_sides">

        <brls:Header
            title="Local Network Settings"
            marginBottom="10"/>

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            grow="1.0"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30">

            <brls:SelectorCell
                id="settings/localResolution"
                title="Resolution"
                marginLeft="15"
                marginRight="15"/>

            <brls:SelectorCell
                id="settings/localFps"
                title="Frame Rate"
                marginLeft="15"
                marginRight="15"/>

            <brls:SliderCell
                id="settings/localBitrate"
                title="Target Bitrate"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Settings for local network connections (higher bitrate may cause issues)"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

        </brls:Box>

        <brls:Header
            title="Remote Play Settings"
            marginBottom="10"/>

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            grow="1.0"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30">

            <brls:SelectorCell
                id="settings/remoteResolution"
                title="Resolution"
                marginLeft="15"
                marginRight="15"/>

            <brls:SelectorCell
                id="settings/remoteFps"
                title="Frame Rate"
                marginLeft="15"
                marginRight="15"/>

            <brls:SliderCell
                id="settings/remoteBitrate"
                title="Target Bitrate"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Settings for remote connections (higher bitrate may cause issues)"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

        </brls:Box>

        <brls:Header
            title="VPN Settings"
            marginBottom="10"/>

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            grow="1.0"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30">

            <brls:SelectorCell
                id="settings/vpnResolution"
                title="Resolution"
                marginLeft="15"
                marginRight="15"/>

            <brls:SelectorCell
                id="settings/vpnFps"
                title="Frame Rate"
                marginLeft="15"
                marginRight="15"/>

            <brls:SliderCell
                id="settings/vpnBitrate"
                title="Target Bitrate"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Settings for WireGuard VPN connections"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

        </brls:Box>

        <brls:Box
            id="settings/powerUserSection"
            width="auto"
            height="auto"
            axis="column"
            grow="1.0"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30"
            visibility="gone">

            <brls:Header
                title="Power User Settings"
                marginBottom="10"
                marginLeft="15"
                marginTop="15"/>

            <brls:BooleanCell
                id="settings/unlockBitrateMax"
                title="Unlock Bitrate Max"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Enables higher bitrate limits (720p: 25000, 1080p: 30000) with 5000 minimum"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="15"/>


            <brls:Button
                id="settings/runBenchmark"
                text="Run GHASH Benchmark"
                marginLeft="15"
                marginRight="15"
                marginTop="10"/>

            <brls:Label
                text="Compares TABLE vs PMULL performance"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="15"/>

        </brls:Box>

        <brls:Header
            title="Controller"
            marginBottom="10"/>

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            grow="1.0"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30">

            <brls:SelectorCell
                id="settings/haptic"
                title="Haptic Feedback"
                marginLeft="15"
                marginRight="15"/>


            <brls:SelectorCell
                id="settings/gyroSource"
                title="Gyro Source"
                marginLeft="15"
                marginRight="15"/>

            <brls:BooleanCell
                id="settings/sleepOnExit"
                title="Sleep Console on Exit"
                marginLeft="15"
                marginRight="15"/>

            <brls:DetailCell
                id="settings/buttonMapping"
                title="Button Mapping"
                marginLeft="15"
                marginRight="15"/>

        </brls:Box>

        <brls:Header
            title="Performance"
            marginBottom="10"/>

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            grow="1.0"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30">

            <brls:BooleanCell
                id="settings/enableThreadAffinity"
                title="Enable Thread Affinity"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Pin threads to specific CPU cores for better performance. Requires app restart."
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

            <brls:BooleanCell
                id="settings/holepunchRetry"
                title="Enable Holepunch Retry"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Automatically retry holepunch up to 4 times with increasing delays (3s, 6s, 9s)"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

            <brls:BooleanCell
                id="settings/requestIdrOnFecFailure"
                title="Request IDR on FEC Failure"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Request keyframe when frame recovery fails. Improves recovery but may cause brief freezes."
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

            <brls:SliderCell
                id="settings/packetLossMax"
                title="Packet Loss Max Reported"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Limits reported packet loss to server. Lower values prevent quality degradation but may cause buffer issues on bad networks."
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

        </brls:Box>

        <brls:Header
            title="Debug Logging"
            marginBottom="10"/>

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            grow="1.0"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30">

            <brls:BooleanCell
                id="settings/enableFileLogging"
                title="File Logging"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Save logs to SD card (/switch/akira/logs/). Requires app restart."
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

            <brls:BooleanCell
                id="settings/debugLwipLog"
                title="lwIP Relay Log"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Enable verbose lwIP relay logging (very spammy during streaming)"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

            <brls:BooleanCell
                id="settings/debugWireguardLog"
                title="WireGuard Log"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Enable WireGuard library logging (handshakes, keepalives, packet stats)"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

            <brls:BooleanCell
                id="settings/debugRenderLog"
                title="Render Log"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Enable renderer logging (draw calls, texture bindings, stats overlay)"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

            <brls:BooleanCell
                id="settings/debugChiakiLog"
                title="Chiaki Log"
                marginLeft="15"
                marginRight="15"/>

            <brls:Label
                text="Enable chiaki library logging during streaming (CTRL, heartbeats, etc.)"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

        </brls:Box>

        <brls:Header
            title="PSN Account"
            marginBottom="10"/>

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            grow="1.0"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30"
            paddingTop="15"
            paddingBottom="15">

            <brls:Box
                width="auto"
                height="auto"
                axis="row"
                alignItems="center"
                marginLeft="15"
                marginRight="15">

                <brls:InputCell
                    id="settings/psnOnlineId"
                    title="PSN Online ID"
                    grow="1"/>

                <brls:Button
                    id="settings/lookupBtn"
                    text="Look Up"
                    style="bordered"
                    marginLeft="10"/>

            </brls:Box>

            <brls:Label
                text="Your account name must be publicly visible for this to work"
                fontSize="14"
                textColor="#666666"
                marginLeft="15"
                marginTop="5"
                marginBottom="10"/>

            <brls:InputCell
                id="settings/psnAccountId"
                title="Account ID (Base64)"
                marginLeft="15"
                marginRight="15"/>

        </brls:Box>

        <brls:Header
            title="PSN Credentials (Read-Only)"
            marginBottom="10"/>

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30">

            <brls:Button
                id="settings/revealCredentials"
                text="Reveal Secrets"
                marginLeft="15"
                marginRight="15"
                marginTop="10"
                marginBottom="10"/>

            <brls:DetailCell
                id="settings/credOnlineId"
                focusable="false"
                marginLeft="15"
                marginRight="15"/>

            <brls:DetailCell
                id="settings/credAccountId"
                focusable="false"
                marginLeft="15"
                marginRight="15"/>

            <brls:DetailCell
                id="settings/credAccessToken"
                focusable="false"
                marginLeft="15"
                marginRight="15"/>

            <brls:DetailCell
                id="settings/credRefreshToken"
                focusable="false"
                marginLeft="15"
                marginRight="15"/>

            <brls:DetailCell
                id="settings/credTokenExpiry"
                focusable="false"
                marginLeft="15"
                marginRight="15"/>

            <brls:DetailCell
                id="settings/credDuid"
                focusable="false"
                marginLeft="15"
                marginRight="15"/>

            <brls:Box
                width="auto"
                height="auto"
                axis="row"
                marginLeft="15"
                marginRight="15"
                marginTop="10"
                marginBottom="15">

                <brls:Button
                    id="settings/clearPsnBtn"
                    text="Clear All PSN Data"
                    style="bordered"
                    grow="1"
                    marginRight="10"/>

                <brls:Button
                    id="settings/refreshTokenBtn"
                    text="Refresh Token"
                    style="bordered"
                    grow="1"/>

            </brls:Box>

        </brls:Box>

        <brls:Header
            title="Companion Server"
            marginBottom="10"/>

        <brls:Box
            width="auto"
            height="auto"
            axis="column"
            grow="1.0"
            backgroundColor="@theme/color/card"
            cornerRadius="8"
            marginBottom="30"
            paddingTop="15"
            paddingBottom="15">

            <brls:InputCell
                id="settings/companionHost"
                title="Companion Host"
                marginLeft="15"
                marginRight="15"/>

            <brls:InputCell
                id="settings/companionPort"
                title="Companion Port"
                marginLeft="15"
                marginRight="15"/>

            <brls:Button
                id="settings/fetchPsnBtn"
                text="Fetch PSN Credentials from Companion App"
                style="bordered"
                grow="1"
                marginLeft="15"
                marginRight="15"
                marginTop="10"
                marginBottom="15"/>

        </brls:Box>

        <brls:Label
            id="settings/version"
            text="Akira v0.4.2"
            fontSize="14"
            textColor="#666666"
            marginTop="20"
            marginBottom="20"
            horizontalAlign="center"
            focusable="true"/>

        </brls:Box>

    </brls:ScrollingFrame>

</brls:Box>
